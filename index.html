<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.6">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #6d6d6d; -webkit-text-stroke: #6d6d6d}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #6b0001; -webkit-text-stroke: #6b0001}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #fb0007; -webkit-text-stroke: #fb0007}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #0000ff; -webkit-text-stroke: #0000ff}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; -webkit-text-stroke: #000000}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; -webkit-text-stroke: #000000; min-height: 16.0px}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #4d5055; -webkit-text-stroke: #4d5055}
    p.p8 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #18702b; -webkit-text-stroke: #18702b}
    span.s1 {font-kerning: none; background-color: #ecf1f7}
    span.s2 {font-kerning: none; color: #fb0007; background-color: #ecf1f7; -webkit-text-stroke: 0px #fb0007}
    span.s3 {font-kerning: none; color: #2a2a2a; background-color: #ecf1f7; -webkit-text-stroke: 0px #2a2a2a}
    span.s4 {font-kerning: none; color: #000000; background-color: #ecf1f7; -webkit-text-stroke: 0px #000000}
    span.s5 {font-kerning: none; color: #0000ff; background-color: #ecf1f7; -webkit-text-stroke: 0px #0000ff}
    span.s6 {font-kerning: none; color: #6b0001; background-color: #ecf1f7; -webkit-text-stroke: 0px #6b0001}
    span.s7 {font-kerning: none}
    span.s8 {font-kerning: none; color: #18702b; background-color: #ecf1f7; -webkit-text-stroke: 0px #18702b}
    span.s9 {font-kerning: none; color: #093c94; background-color: #ecf1f7; -webkit-text-stroke: 0px #093c94}
    span.s10 {font-kerning: none; color: #137646; background-color: #ecf1f7; -webkit-text-stroke: 0px #137646}
    span.s11 {font-kerning: none; color: #6f0ec3; background-color: #ecf1f7; -webkit-text-stroke: 0px #6f0ec3}
    span.s12 {font-kerning: none; color: #0e6e6d; background-color: #ecf1f7; -webkit-text-stroke: 0px #0e6e6d}
    span.s13 {font-kerning: none; color: #a4450b; background-color: #ecf1f7; -webkit-text-stroke: 0px #a4450b}
    span.s14 {font-kerning: none; color: #4d5055; background-color: #ecf1f7; -webkit-text-stroke: 0px #4d5055}
  </style>
</head>
<body>
<p class="p1"><span class="s1">&lt;!DOCTYPE</span><span class="s2"> html</span><span class="s1">&gt;</span></p>
<p class="p2"><span class="s3">&lt;</span><span class="s1">html</span><span class="s4"> </span><span class="s2">lang</span><span class="s3">=</span><span class="s5">"fr"</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s3">&lt;</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s1">charset</span><span class="s3">=</span><span class="s5">"UTF-8"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s2">name</span><span class="s3">=</span><span class="s1">"viewport"</span><span class="s4"> </span><span class="s2">content</span><span class="s3">=</span><span class="s1">"width=device-width, initial-scale=1.0"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">title</span><span class="s3">&gt;</span><span class="s1">BaBeL Tour BdD</span><span class="s3">&lt;/</span><span class="s6">title</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">script</span><span class="s4"> </span><span class="s2">src</span><span class="s3">=</span><span class="s1">"https://cdn.tailwindcss.com"</span><span class="s3">&gt;&lt;/</span><span class="s6">script</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">link</span><span class="s4"> </span><span class="s2">rel</span><span class="s3">=</span><span class="s1">"preconnect"</span><span class="s4"> </span><span class="s2">href</span><span class="s3">=</span><span class="s1">"https://fonts.googleapis.com"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">link</span><span class="s4"> </span><span class="s2">rel</span><span class="s3">=</span><span class="s1">"preconnect"</span><span class="s4"> </span><span class="s2">href</span><span class="s3">=</span><span class="s1">"https://fonts.gstatic.com"</span><span class="s4"> </span><span class="s2">crossorigin</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">link</span><span class="s4"> </span><span class="s2">href</span><span class="s3">=</span><span class="s1">"https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@400;700&amp;family=Bebas+Neue&amp;display=swap"</span><span class="s4"> </span><span class="s2">rel</span><span class="s3">=</span><span class="s1">"stylesheet"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">link</span><span class="s4"> </span><span class="s2">rel</span><span class="s3">=</span><span class="s1">"stylesheet"</span><span class="s4"> </span><span class="s2">href</span><span class="s3">=</span><span class="s1">"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">link</span><span class="s4"> </span><span class="s2">rel</span><span class="s3">=</span><span class="s1">"stylesheet"</span><span class="s4"> </span><span class="s2">href</span><span class="s3">=</span><span class="s1">"https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"</span><span class="s4"> </span><span class="s2">integrity</span><span class="s3">=</span><span class="s1">"sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY="</span><span class="s4"> </span><span class="s2">crossorigin</span><span class="s3">=</span><span class="s1">""</span><span class="s4"> </span><span class="s3">/&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">script</span><span class="s4"> </span><span class="s2">src</span><span class="s3">=</span><span class="s1">"https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"</span><span class="s4"> </span><span class="s2">integrity</span><span class="s3">=</span><span class="s1">"sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo="</span><span class="s4"> </span><span class="s2">crossorigin</span><span class="s3">=</span><span class="s1">""</span><span class="s3">&gt;&lt;/</span><span class="s6">script</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">link</span><span class="s4"> </span><span class="s2">rel</span><span class="s3">=</span><span class="s1">"stylesheet"</span><span class="s4"> </span><span class="s2">href</span><span class="s3">=</span><span class="s1">"https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.css"</span><span class="s4"> </span><span class="s3">/&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">script</span><span class="s4"> </span><span class="s2">src</span><span class="s3">=</span><span class="s1">"https://unpkg.com/leaflet-routing-machine@3.2.12/dist/leaflet-routing-machine.js"</span><span class="s3">&gt;&lt;/</span><span class="s6">script</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s7"></span><br></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">body</span><span class="s1"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-family:</span><span class="s1"> </span><span class="s8">'Roboto Slab'</span><span class="s1">, </span><span class="s9">serif</span><span class="s1">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">background-color:</span><span class="s4"> </span><span class="s9">#111827</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">color:</span><span class="s1"> </span><span class="s9">#d1d5db</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.font-bebas</span><span class="s1"> { </span><span class="s2">font-family:</span><span class="s1"> </span><span class="s8">'Bebas Neue'</span><span class="s1">, </span><span class="s9">sans-serif</span><span class="s1">; }</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.rock-title</span><span class="s1"> { </span><span class="s2">letter-spacing:</span><span class="s1"> </span><span class="s10">0.1em</span><span class="s1">; }</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.modal</span><span class="s4">, </span><span class="s1">.custom-dialog</span><span class="s4"> { </span><span class="s2">transition:</span><span class="s4"> </span><span class="s9">opacity</span><span class="s4"> </span><span class="s10">0.25s</span><span class="s4"> </span><span class="s9">ease</span><span class="s4">; }</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.modal-content</span><span class="s4">, </span><span class="s1">.custom-dialog-content</span><span class="s4"> { </span><span class="s2">transition:</span><span class="s4"> </span><span class="s9">transform</span><span class="s4"> </span><span class="s10">0.25s</span><span class="s4"> </span><span class="s9">ease</span><span class="s4">; }</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">.star-rating</span><span class="s4"> </span><span class="s6">.fa-star</span><span class="s4"> { </span><span class="s1">color:</span><span class="s4"> </span><span class="s9">#4b5563</span><span class="s4">; </span><span class="s1">cursor:</span><span class="s4"> </span><span class="s9">pointer</span><span class="s4">; </span><span class="s1">transition:</span><span class="s4"> </span><span class="s9">color</span><span class="s4"> </span><span class="s10">0.2s</span><span class="s4">; }</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.star-rating</span><span class="s4"> </span><span class="s1">.fa-star.selected</span><span class="s4">, </span><span class="s1">.star-rating</span><span class="s4"> </span><span class="s1">.fa-star:hover</span><span class="s4">, </span><span class="s1">.star-rating:hover</span><span class="s4"> </span><span class="s1">.fa-star:hover</span><span class="s4"> ~ </span><span class="s1">.fa-star</span><span class="s4"> { </span><span class="s2">color:</span><span class="s4"> </span><span class="s9">#f59e0b</span><span class="s4">; }</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.star-rating:hover</span><span class="s4"> </span><span class="s1">.fa-star</span><span class="s4"> { </span><span class="s2">color:</span><span class="s4"> </span><span class="s9">#f59e0b</span><span class="s4">; }</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.star-rating</span><span class="s4"> </span><span class="s1">.fa-star:hover</span><span class="s4"> ~ </span><span class="s1">.fa-star</span><span class="s4"> { </span><span class="s2">color:</span><span class="s4"> </span><span class="s9">#4b5563</span><span class="s4">; }</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.card-star</span><span class="s1"> { </span><span class="s2">color:</span><span class="s1"> </span><span class="s9">#f59e0b</span><span class="s1">; }</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.card-star-empty</span><span class="s4"> { </span><span class="s2">color:</span><span class="s4"> </span><span class="s9">#374151</span><span class="s4">; }</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">::-webkit-scrollbar</span><span class="s4"> { </span><span class="s2">width:</span><span class="s4"> </span><span class="s10">8px</span><span class="s4">; }</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">::-webkit-scrollbar-track</span><span class="s4"> { </span><span class="s2">background:</span><span class="s4"> </span><span class="s9">#1f2937</span><span class="s4">; }</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">::-webkit-scrollbar-thumb</span><span class="s4"> { </span><span class="s2">background:</span><span class="s4"> </span><span class="s9">#4b5563</span><span class="s4">; </span><span class="s2">border-radius:</span><span class="s4"> </span><span class="s10">4px</span><span class="s4">; }</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">::-webkit-scrollbar-thumb:hover</span><span class="s4"> { </span><span class="s2">background:</span><span class="s4"> </span><span class="s9">#6b7280</span><span class="s4">; }</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">#map</span><span class="s4">, </span><span class="s6">#tourMap</span><span class="s4"> { </span><span class="s1">height:</span><span class="s4"> </span><span class="s9">calc(</span><span class="s10">100vh</span><span class="s4"> - </span><span class="s10">280px</span><span class="s9">)</span><span class="s4">; </span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s10">0.75rem</span><span class="s4">; </span><span class="s1">border:</span><span class="s4"> </span><span class="s10">2px</span><span class="s4"> </span><span class="s9">solid</span><span class="s4"> </span><span class="s9">#374151</span><span class="s4">; </span><span class="s1">background-color:</span><span class="s4"> </span><span class="s9">#1f2937</span><span class="s4">; }</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">.leaflet-popup-content-wrapper</span><span class="s4"> { </span><span class="s1">background:</span><span class="s4"> </span><span class="s9">#1f2937</span><span class="s4">; </span><span class="s1">color:</span><span class="s4"> </span><span class="s9">#d1d5db</span><span class="s4">; </span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s10">8px</span><span class="s4">; </span><span class="s1">border:</span><span class="s4"> </span><span class="s10">1px</span><span class="s4"> </span><span class="s9">solid</span><span class="s4"> </span><span class="s9">#374151</span><span class="s4">; }</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.leaflet-popup-content-wrapper</span><span class="s4"> </span><span class="s1">.leaflet-popup-content</span><span class="s4"> { </span><span class="s2">margin:</span><span class="s4"> </span><span class="s10">12px</span><span class="s4">; </span><span class="s2">font-size:</span><span class="s4"> </span><span class="s10">14px</span><span class="s4">; }</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.leaflet-popup-tip</span><span class="s4"> { </span><span class="s2">background:</span><span class="s4"> </span><span class="s9">#1f2937</span><span class="s4">; }</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">.genre-tag</span><span class="s4"> { </span><span class="s1">background-color:</span><span class="s4"> </span><span class="s9">#374151</span><span class="s4">; </span><span class="s1">color:</span><span class="s4"> </span><span class="s9">#d1d5db</span><span class="s4">; </span><span class="s1">padding:</span><span class="s4"> </span><span class="s10">2px</span><span class="s4"> </span><span class="s10">8px</span><span class="s4">; </span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s10">4px</span><span class="s4">; </span><span class="s1">font-size:</span><span class="s4"> </span><span class="s10">0.75rem</span><span class="s4">; </span><span class="s1">display:</span><span class="s4"> </span><span class="s9">inline-block</span><span class="s4">; }</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">.tab-btn.active</span><span class="s4"> { </span><span class="s1">border-color:</span><span class="s4"> </span><span class="s9">#ef4444</span><span class="s4">; </span><span class="s1">color:</span><span class="s4"> </span><span class="s9">#f9fafb</span><span class="s4">; }</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">.leaflet-routing-container</span><span class="s4"> { </span><span class="s1">background-color:</span><span class="s4"> </span><span class="s9">rgba(</span><span class="s10">31</span><span class="s4">,</span><span class="s10">41</span><span class="s4">,</span><span class="s10">55</span><span class="s4">,</span><span class="s10">0.8</span><span class="s9">)</span><span class="s4">; </span><span class="s1">backdrop-filter:</span><span class="s4"> </span><span class="s9">blur(</span><span class="s10">5px</span><span class="s9">)</span><span class="s4">; </span><span class="s1">border:</span><span class="s4"> </span><span class="s10">1px</span><span class="s4"> </span><span class="s9">solid</span><span class="s4"> </span><span class="s9">#4b5563</span><span class="s4">; </span><span class="s1">color:</span><span class="s4"> </span><span class="s9">#d1d5db</span><span class="s4">; </span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s10">8px</span><span class="s4">; }</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.leaflet-routing-container</span><span class="s4"> </span><span class="s1">h2</span><span class="s4">, </span><span class="s1">.leaflet-routing-container</span><span class="s4"> </span><span class="s1">h3</span><span class="s4"> { </span><span class="s2">color:</span><span class="s4"> </span><span class="s9">#f9fafb</span><span class="s4">; }</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.leaflet-routing-alt</span><span class="s4">, </span><span class="s1">.leaflet-routing-alt:hover</span><span class="s4"> { </span><span class="s2">background:</span><span class="s4"> </span><span class="s9">#374151</span><span class="s4">; </span><span class="s2">border-color:</span><span class="s4"> </span><span class="s9">#4b5563</span><span class="s4">; }</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s3">&lt;/</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s3">&lt;</span><span class="s6">body</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"antialiased"</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s7"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;!-- Header --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">header</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-gray-800 shadow-lg sticky top-0 z-30"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"container mx-auto px-4 sm:px-6 lg:px-8 py-4"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"flex flex-col sm:flex-row justify-between items-center gap-4"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"flex items-center gap-4"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">i</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"fa-solid fa-road-spikes text-4xl text-red-500 transform -rotate-12"</span><span class="s3">&gt;&lt;/</span><span class="s6">i</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">h1</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-3xl font-bebas rock-title text-gray-100"</span><span class="s3">&gt;</span><span class="s4">BaBeL Tour BdD</span><span class="s3">&lt;/</span><span class="s6">h1</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"flex items-center gap-4 w-full sm:w-auto"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"main-search-container"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"relative flex-grow"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">span</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"absolute inset-y-0 left-0 flex items-center pl-3"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s3">&lt;</span><span class="s6">i</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"fas fa-search text-gray-500"</span><span class="s3">&gt;&lt;/</span><span class="s6">i</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">input</span><span class="s4"> </span><span class="s2">type</span><span class="s3">=</span><span class="s1">"text"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"searchInput"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full pl-10 pr-4 py-2 bg-gray-700 text-gray-200 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"</span><span class="s4"> </span><span class="s2">placeholder</span><span class="s3">=</span><span class="s1">"Chercher un lieu, genre, note..."</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                     </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"addVenueBtn"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-red-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-700 transition flex items-center gap-2 shrink-0"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">i</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"fas fa-plus"</span><span class="s3">&gt;&lt;/</span><span class="s6">i</span><span class="s3">&gt;</span><span class="s1"> Ajouter Lieu</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">             </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"band-info"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"flex flex-col sm:flex-row gap-4 mt-4 items-center"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">input</span><span class="s4"> </span><span class="s2">type</span><span class="s3">=</span><span class="s1">"text"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"bandNameInput"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full sm:w-1/2 p-2 bg-gray-700 text-gray-200 border border-gray-600 rounded-lg"</span><span class="s4"> </span><span class="s2">placeholder</span><span class="s3">=</span><span class="s1">"Nom de votre groupe..."</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">input</span><span class="s4"> </span><span class="s2">type</span><span class="s3">=</span><span class="s1">"text"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"bandWebsiteInput"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full sm:w-1/2 p-2 bg-gray-700 text-gray-200 border border-gray-600 rounded-lg"</span><span class="s4"> </span><span class="s2">placeholder</span><span class="s3">=</span><span class="s1">"Site web de votre groupe..."</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"auth-info"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-xs text-gray-500 mt-2 text-right"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">&lt;!-- Tabs Navigation --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">nav</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-gray-900"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"container mx-auto px-4 sm:px-6 lg:px-8"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"flex justify-center items-center gap-2 sm:gap-6"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">data-tab</span><span class="s3">=</span><span class="s1">"venuesTab"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"tab-btn font-bebas text-lg tracking-wider py-3 px-4 border-b-4 border-red-500 text-white active"</span><span class="s3">&gt;</span><span class="s4">Lieux</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">data-tab</span><span class="s3">=</span><span class="s1">"toursTab"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"tab-btn font-bebas text-lg tracking-wider py-3 px-4 border-b-4 border-transparent text-gray-400 hover:border-red-500 hover:text-white transition"</span><span class="s3">&gt;</span><span class="s4">Tournées</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">data-tab</span><span class="s3">=</span><span class="s1">"mapTab"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"tab-btn font-bebas text-lg tracking-wider py-3 px-4 border-b-4 border-transparent text-gray-400 hover:border-red-500 hover:text-white transition"</span><span class="s3">&gt;</span><span class="s4">Carte</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">data-tab</span><span class="s3">=</span><span class="s1">"directoryTab"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"tab-btn font-bebas text-lg tracking-wider py-3 px-4 border-b-4 border-transparent text-gray-400 hover:border-red-500 hover:text-white transition"</span><span class="s3">&gt;</span><span class="s4">Annuaire</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">data-tab</span><span class="s3">=</span><span class="s1">"trashTab"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"tab-btn font-bebas text-lg tracking-wider py-3 px-4 border-b-4 border-transparent text-gray-400 hover:border-red-500 hover:text-white transition relative"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">i</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"fa-solid fa-trash-can mr-2"</span><span class="s3">&gt;&lt;/</span><span class="s6">i</span><span class="s3">&gt;</span><span class="s1"> Corbeille</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">span</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"trashCount"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"absolute top-1 right-0 bg-red-600 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center hidden"</span><span class="s3">&gt;&lt;/</span><span class="s6">span</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">nav</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">header</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s7"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;!-- Main Content --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">main</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"container mx-auto p-4 sm:p-6 lg:p-8"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"loading"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-center py-10"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">i</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"fas fa-spinner fa-spin text-4xl text-red-500"</span><span class="s3">&gt;&lt;/</span><span class="s6">i</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"mt-2 text-gray-400"</span><span class="s3">&gt;</span><span class="s1">Chargement de la setlist...</span><span class="s3">&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s7"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">&lt;!-- Venues Tab --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"venuesTab"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"tab-content"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"venueSummary"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-gray-800 p-4 rounded-lg mb-6 flex flex-wrap gap-x-4 gap-y-2"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"venueGrid"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"space-y-8"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">&lt;!-- Tours Tab --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"toursTab"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"tab-content hidden"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"flex justify-between items-center mb-6"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">h2</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-3xl font-bebas rock-title text-red-400"</span><span class="s3">&gt;</span><span class="s4">Gestion des Tournées</span><span class="s3">&lt;/</span><span class="s6">h2</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"createTourBtn"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-red-600 text-white font-bold py-2 px-4 rounded-lg hover:bg-red-700 transition flex items-center gap-2"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">i</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"fas fa-plus"</span><span class="s3">&gt;&lt;/</span><span class="s6">i</span><span class="s3">&gt;</span><span class="s1"> Nouvelle Tournée</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"tourList"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"space-y-4"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"tourDetailView"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"hidden mt-8"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s7"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">&lt;!-- Map Tab --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"mapTab"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"tab-content hidden"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"map"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">&lt;!-- Directory Tab --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"directoryTab"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"tab-content hidden"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">             </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-gray-800 p-4 rounded-lg mb-6"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                 </span></span><span class="s3">&lt;</span><span class="s6">input</span><span class="s4"> </span><span class="s2">type</span><span class="s3">=</span><span class="s1">"text"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"directorySearchInput"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full pl-4 pr-4 py-2 bg-gray-700 text-gray-200 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"</span><span class="s4"> </span><span class="s2">placeholder</span><span class="s3">=</span><span class="s1">"Chercher un nom, email, téléphone..."</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">             </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">             </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"directoryList"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-gray-800 rounded-lg shadow-inner p-4 space-y-3 max-h-[70vh] overflow-y-auto"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">&lt;!-- Trash Tab --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"trashTab"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"tab-content hidden"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">h2</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-2xl font-bebas rock-title text-red-400 mb-4"</span><span class="s3">&gt;</span><span class="s4">Corbeille</span><span class="s3">&lt;/</span><span class="s6">h2</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"trashGrid"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s6">main</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s7"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s1">&lt;!-- Modals --&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"venueModal"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"fixed inset-0 bg-black bg-opacity-75 z-50 flex items-center justify-center p-4 hidden modal"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-gray-800 border-2 border-gray-700 rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-hidden flex flex-col modal-content transform scale-95 opacity-0"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"p-6 border-b border-gray-700 flex justify-between items-start"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">h2</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"modalTitle"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-3xl font-bebas text-white rock-title"</span><span class="s3">&gt;&lt;/</span><span class="s6">h2</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"modalLocationAndDate"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-sm text-gray-400"</span><span class="s3">&gt;&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"closeModal"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-gray-500 hover:text-red-500 transition"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">i</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"fas fa-times text-2xl"</span><span class="s3">&gt;&lt;/</span><span class="s6">i</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"flex-grow overflow-y-auto"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"grid grid-cols-1 md:grid-cols-2 gap-x-8 p-6"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"mb-6"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                            </span></span><span class="s3">&lt;</span><span class="s6">h3</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"font-bold text-lg text-gray-200 mb-2"</span><span class="s3">&gt;</span><span class="s4">Notation</span><span class="s3">&lt;/</span><span class="s6">h3</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"modalRating"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"star-rating text-2xl"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                                </span></span><span class="s3">&lt;</span><span class="s6">i</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"fa-solid fa-star"</span><span class="s4"> </span><span class="s2">data-value</span><span class="s3">=</span><span class="s1">"1"</span><span class="s3">&gt;&lt;/</span><span class="s6">i</span><span class="s3">&gt;&lt;</span><span class="s6">i</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"fa-solid fa-star"</span><span class="s4"> </span><span class="s2">data-value</span><span class="s3">=</span><span class="s1">"2"</span><span class="s3">&gt;&lt;/</span><span class="s6">i</span><span class="s3">&gt;&lt;</span><span class="s6">i</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"fa-solid fa-star"</span><span class="s4"> </span><span class="s2">data-value</span><span class="s3">=</span><span class="s1">"3"</span><span class="s3">&gt;&lt;/</span><span class="s6">i</span><span class="s3">&gt;&lt;</span><span class="s6">i</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"fa-solid fa-star"</span><span class="s4"> </span><span class="s2">data-value</span><span class="s3">=</span><span class="s1">"4"</span><span class="s3">&gt;&lt;/</span><span class="s6">i</span><span class="s3">&gt;&lt;</span><span class="s6">i</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"fa-solid fa-star"</span><span class="s4"> </span><span class="s2">data-value</span><span class="s3">=</span><span class="s1">"5"</span><span class="s3">&gt;&lt;/</span><span class="s6">i</span><span class="s3">&gt;&lt;</span><span class="s6">i</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"fa-solid fa-star"</span><span class="s4"> </span><span class="s2">data-value</span><span class="s3">=</span><span class="s1">"6"</span><span class="s3">&gt;&lt;/</span><span class="s6">i</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"mb-6 space-y-4"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                                </span></span><span class="s3">&lt;</span><span class="s6">h3</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"font-bold text-lg text-gray-200 mb-2"</span><span class="s3">&gt;</span><span class="s1">Statut</span><span class="s3">&lt;/</span><span class="s6">h3</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                                </span></span><span class="s3">&lt;</span><span class="s6">select</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"modalStatus"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full p-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:ring-2 focus:ring-red-500"</span><span class="s3">&gt;&lt;/</span><span class="s6">select</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"space-y-2"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                               </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"addToTourBtn"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full bg-green-600 text-white py-2 px-4 rounded-lg hover:bg-green-700 transition font-semibold flex items-center justify-center gap-2"</span><span class="s3">&gt;&lt;</span><span class="s6">i</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"fa-solid fa-route"</span><span class="s3">&gt;&lt;/</span><span class="s6">i</span><span class="s3">&gt;</span><span class="s4"> Ajouter à une tournée</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"mb-6 space-y-3"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                            </span></span><span class="s3">&lt;</span><span class="s6">h3</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"font-bold text-lg text-gray-200 mb-2"</span><span class="s3">&gt;</span><span class="s4">Détails</span><span class="s3">&lt;/</span><span class="s6">h3</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"modalDetails"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"modalGenres"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"flex flex-wrap gap-2"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"mb-6"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s3">&lt;</span><span class="s6">h3</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"font-bold text-lg text-gray-200 mb-2"</span><span class="s3">&gt;</span><span class="s1">Description / Notes</span><span class="s3">&lt;/</span><span class="s6">h3</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                            </span></span><span class="s3">&lt;</span><span class="s6">textarea</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"modalDescription"</span><span class="s4"> </span><span class="s2">rows</span><span class="s3">=</span><span class="s1">"4"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full p-2 bg-gray-700 border border-gray-600 rounded-lg text-sm"</span><span class="s3">&gt;&lt;/</span><span class="s6">textarea</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"mb-6 bg-gray-900/50 p-4 rounded-lg"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                            </span></span><span class="s3">&lt;</span><span class="s6">h3</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"font-bold text-lg text-red-400 mb-3 flex items-center gap-2"</span><span class="s3">&gt;&lt;</span><span class="s6">i</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"fa-solid fa-wand-magic-sparkles"</span><span class="s3">&gt;&lt;/</span><span class="s6">i</span><span class="s3">&gt;</span><span class="s4"> Actions IA</span><span class="s3">&lt;/</span><span class="s6">h3</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"space-y-3"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                                </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"generateEmailBtn"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition font-semibold flex items-center justify-center gap-2"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                                    </span></span><span class="s3">&lt;</span><span class="s6">i</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"fas fa-envelope"</span><span class="s3">&gt;&lt;/</span><span class="s6">i</span><span class="s3">&gt;</span><span class="s1"> Rédiger un email ✨</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                                </span></span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                                </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"generateAnalysisBtn"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full bg-purple-600 text-white py-2 px-4 rounded-lg hover:bg-purple-700 transition font-semibold flex items-center justify-center gap-2"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                                    </span></span><span class="s3">&lt;</span><span class="s6">i</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"fas fa-chart-line"</span><span class="s3">&gt;&lt;/</span><span class="s6">i</span><span class="s3">&gt;</span><span class="s1"> Analyse rapide ✨</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                                </span></span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                         </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"mb-6"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                             </span></span><span class="s3">&lt;</span><span class="s6">h3</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"font-bold text-lg text-gray-200 mb-3"</span><span class="s3">&gt;</span><span class="s4">Liens</span><span class="s3">&lt;/</span><span class="s6">h3</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                             </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"modalLinks"</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"space-y-2"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"mb-6"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                            </span></span><span class="s3">&lt;</span><span class="s6">h3</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"font-bold text-lg text-gray-200 mb-3"</span><span class="s3">&gt;</span><span class="s4">Contacts</span><span class="s3">&lt;/</span><span class="s6">h3</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"contactsList"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"space-y-3 mb-4 max-h-48 overflow-y-auto pr-2"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"bg-gray-900 p-4 rounded-lg"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                                </span></span><span class="s3">&lt;</span><span class="s6">h4</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"font-semibold text-md text-gray-300 mb-2"</span><span class="s3">&gt;</span><span class="s1">Ajouter un contact</span><span class="s3">&lt;/</span><span class="s6">h4</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                                </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"space-y-3"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                                    </span></span><span class="s3">&lt;</span><span class="s6">input</span><span class="s4"> </span><span class="s2">type</span><span class="s3">=</span><span class="s1">"text"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"contactName"</span><span class="s4"> </span><span class="s2">placeholder</span><span class="s3">=</span><span class="s1">"Nom"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full p-2 bg-gray-700 border border-gray-600 rounded-md"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                                    </span></span><span class="s3">&lt;</span><span class="s6">input</span><span class="s4"> </span><span class="s2">type</span><span class="s3">=</span><span class="s1">"email"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"contactEmail"</span><span class="s4"> </span><span class="s2">placeholder</span><span class="s3">=</span><span class="s1">"Email"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full p-2 bg-gray-700 border border-gray-600 rounded-md"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                                    </span></span><span class="s3">&lt;</span><span class="s6">input</span><span class="s4"> </span><span class="s2">type</span><span class="s3">=</span><span class="s1">"tel"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"contactPhone"</span><span class="s4"> </span><span class="s2">placeholder</span><span class="s3">=</span><span class="s1">"Téléphone"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full p-2 bg-gray-700 border border-gray-600 rounded-md"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                                    </span></span><span class="s3">&lt;</span><span class="s6">textarea</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"contactNotes"</span><span class="s4"> </span><span class="s2">placeholder</span><span class="s3">=</span><span class="s1">"Notes"</span><span class="s4"> </span><span class="s2">rows</span><span class="s3">=</span><span class="s1">"2"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"w-full p-2 bg-gray-700 border border-gray-600 rounded-md"</span><span class="s3">&gt;&lt;/</span><span class="s6">textarea</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                                </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                                </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"addContactBtn"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"mt-3 w-full bg-red-600 text-white py-2 px-4 rounded-lg hover:bg-red-700 transition font-semibold flex items-center justify-center gap-2"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                                    </span></span><span class="s3">&lt;</span><span class="s6">i</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"fas fa-plus"</span><span class="s3">&gt;&lt;/</span><span class="s6">i</span><span class="s3">&gt;</span><span class="s1"> Ajouter</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                                </span></span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">             </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"p-4 bg-gray-900 border-t border-gray-700 text-right space-x-4"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                 </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"modalDeleteBtn"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-gray-600 text-white py-2 px-5 rounded-lg hover:bg-gray-500 transition font-semibold"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">i</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"fas fa-trash-alt"</span><span class="s3">&gt;&lt;/</span><span class="s6">i</span><span class="s3">&gt;</span><span class="s1"> Corbeille</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"saveChanges"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-green-600 text-white py-2 px-5 rounded-lg hover:bg-green-700 transition font-bold"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">i</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"fas fa-save"</span><span class="s3">&gt;&lt;/</span><span class="s6">i</span><span class="s3">&gt;</span><span class="s1"> Enregistrer</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">             </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"dialogModal"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"fixed inset-0 bg-black bg-opacity-60 z-[100] flex items-center justify-center p-4 hidden custom-dialog"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-gray-800 border border-gray-600 rounded-lg shadow-xl w-full max-w-sm p-6 custom-dialog-content transform scale-95 opacity-0"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">p</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"dialogMessage"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-gray-200 mb-6 text-center"</span><span class="s3">&gt;&lt;/</span><span class="s6">p</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"dialog-buttons"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"flex justify-end gap-4"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"geminiResultModal"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"fixed inset-0 bg-black bg-opacity-75 z-[60] flex items-center justify-center p-4 hidden custom-dialog"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-gray-800 border-2 border-gray-700 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-hidden flex flex-col custom-dialog-content transform scale-95 opacity-0"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"p-4 bg-gray-900 border-b border-gray-700 flex justify-between items-center"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">h3</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"geminiResultTitle"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"font-bebas text-2xl text-red-400"</span><span class="s3">&gt;&lt;/</span><span class="s6">h3</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"closeGeminiModal"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"text-gray-500 hover:text-red-500 transition"</span><span class="s3">&gt;&lt;</span><span class="s6">i</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"fas fa-times text-xl"</span><span class="s3">&gt;&lt;/</span><span class="s6">i</span><span class="s3">&gt;&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"geminiResultContent"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"p-6 overflow-y-auto bg-gray-800 text-gray-300 whitespace-pre-wrap"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"p-4 bg-gray-900 border-t border-gray-700 flex justify-end gap-4"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">                 </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"copyGeminiResult"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-blue-600 text-white py-2 px-5 rounded-lg hover:bg-blue-700 transition font-semibold"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s3">&lt;</span><span class="s6">i</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"fas fa-copy"</span><span class="s3">&gt;&lt;/</span><span class="s6">i</span><span class="s3">&gt;</span><span class="s1"> Copier</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s7"></span><br></p>
<p class="p4"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">script</span><span class="s4"> </span><span class="s2">type</span><span class="s3">=</span><span class="s1">"module"</span><span class="s3">&gt;</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s11">import</span><span class="s4"> { initializeApp } </span><span class="s11">from</span><span class="s4"> </span><span class="s1">"https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js"</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">import</span><span class="s1"> { getFirestore, collection, doc, getDocs, setDoc, onSnapshot, updateDoc, deleteDoc, writeBatch } </span><span class="s11">from</span><span class="s1"> </span><span class="s8">"https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js"</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">import</span><span class="s1"> { getAuth, signInAnonymously, signInWithCustomToken, onAuthStateChanged } </span><span class="s11">from</span><span class="s1"> </span><span class="s8">"https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js"</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>document.addEventListener(</span><span class="s8">'DOMContentLoaded'</span><span class="s1">, () =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> firebaseConfig = </span><span class="s11">typeof</span><span class="s1"> __firebase_config !== </span><span class="s8">'undefined'</span><span class="s1"> ? </span><span class="s12">JSON</span><span class="s1">.parse(__firebase_config) : { apiKey: </span><span class="s8">"DEMO_KEY"</span><span class="s1">, authDomain: </span><span class="s8">"demo.firebaseapp.com"</span><span class="s1">, projectId: </span><span class="s8">"demo"</span><span class="s1"> };</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> appId = </span><span class="s11">typeof</span><span class="s1"> __app_id !== </span><span class="s8">'undefined'</span><span class="s1"> ? __app_id : </span><span class="s8">'babel-tour-bdd'</span><span class="s1">;</span></p>
<p class="p6"><span class="s7"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> app = initializeApp(firebaseConfig);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> db = getFirestore(app);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> auth = getAuth(app);</span></p>
<p class="p6"><span class="s7"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> currentUserId = </span><span class="s11">null</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> venuesData = [];</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> toursData = [];</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> currentVenueId = </span><span class="s11">null</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> map, tourMap;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> tourRoutingControl = </span><span class="s11">null</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> isMapInitialized = </span><span class="s11">false</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> isTourMapInitialized = </span><span class="s11">false</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> venuesCollectionRef = collection(db, </span><span class="s8">`artifacts/</span><span class="s1">${appId}</span><span class="s8">/public/data/venues`</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> toursCollectionRef = collection(db, </span><span class="s8">`artifacts/</span><span class="s1">${appId}</span><span class="s8">/public/data/tours`</span><span class="s1">);</span></p>
<p class="p6"><span class="s7"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> </span><span class="s12">DOM</span><span class="s1"> = {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>venueGrid: document.getElementById(</span><span class="s8">'venueGrid'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>searchInput: document.getElementById(</span><span class="s8">'searchInput'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>modal: document.getElementById(</span><span class="s8">'venueModal'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>loadingDiv: document.getElementById(</span><span class="s8">'loading'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>authInfoDiv: document.getElementById(</span><span class="s8">'auth-info'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>addVenueBtn: document.getElementById(</span><span class="s8">'addVenueBtn'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>tabs: document.querySelectorAll(</span><span class="s8">'.tab-btn'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>tabContents: document.querySelectorAll(</span><span class="s8">'.tab-content'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>mainSearchContainer: document.getElementById(</span><span class="s8">'main-search-container'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>mapContainer: document.getElementById(</span><span class="s8">'map'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>directoryList: document.getElementById(</span><span class="s8">'directoryList'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>directorySearchInput: document.getElementById(</span><span class="s8">'directorySearchInput'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>trashGrid: document.getElementById(</span><span class="s8">'trashGrid'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>trashCount: document.getElementById(</span><span class="s8">'trashCount'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>venueSummary: document.getElementById(</span><span class="s8">'venueSummary'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>bandNameInput: document.getElementById(</span><span class="s8">'bandNameInput'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>bandWebsiteInput: document.getElementById(</span><span class="s8">'bandWebsiteInput'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>tourList: document.getElementById(</span><span class="s8">'tourList'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>createTourBtn: document.getElementById(</span><span class="s8">'createTourBtn'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>tourDetailView: document.getElementById(</span><span class="s8">'tourDetailView'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>dialog: {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>modal: document.getElementById(</span><span class="s8">'dialogModal'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>message: document.getElementById(</span><span class="s8">'dialogMessage'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>buttons: document.getElementById(</span><span class="s8">'dialog-buttons'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>},</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>geminiDialog: {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>modal: document.getElementById(</span><span class="s8">'geminiResultModal'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>title: document.getElementById(</span><span class="s8">'geminiResultTitle'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>content: document.getElementById(</span><span class="s8">'geminiResultContent'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>closeBtn: document.getElementById(</span><span class="s8">'closeGeminiModal'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>copyBtn: document.getElementById(</span><span class="s8">'copyGeminiResult'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>},</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>modalFields: {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>title: document.getElementById(</span><span class="s8">'modalTitle'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>locationAndDate: document.getElementById(</span><span class="s8">'modalLocationAndDate'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>ratingContainer: document.getElementById(</span><span class="s8">'modalRating'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>status: document.getElementById(</span><span class="s8">'modalStatus'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>addToTourBtn: document.getElementById(</span><span class="s8">'addToTourBtn'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>description: document.getElementById(</span><span class="s8">'modalDescription'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>details: document.getElementById(</span><span class="s8">'modalDetails'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>genres: document.getElementById(</span><span class="s8">'modalGenres'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>links: document.getElementById(</span><span class="s8">'modalLinks'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>contactsList: document.getElementById(</span><span class="s8">'contactsList'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>contactName: document.getElementById(</span><span class="s8">'contactName'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>contactEmail: document.getElementById(</span><span class="s8">'contactEmail'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>contactPhone: document.getElementById(</span><span class="s8">'contactPhone'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>contactNotes: document.getElementById(</span><span class="s8">'contactNotes'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>addContactBtn: document.getElementById(</span><span class="s8">'addContactBtn'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>generateEmailBtn: document.getElementById(</span><span class="s8">'generateEmailBtn'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>generateAnalysisBtn: document.getElementById(</span><span class="s8">'generateAnalysisBtn'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>saveChangesBtn: document.getElementById(</span><span class="s8">'saveChanges'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>deleteVenueBtn: document.getElementById(</span><span class="s8">'modalDeleteBtn'</span><span class="s1">),</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>};</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// --- CORE FUNCTIONS (Declared first to avoid ReferenceError) ---</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> closeModal = (modalId) =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> modal = document.getElementById(modalId);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1">(modal) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>modal.firstElementChild.classList.add(</span><span class="s8">'scale-95'</span><span class="s1">, </span><span class="s8">'opacity-0'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>setTimeout(() =&gt; modal.classList.add(</span><span class="s8">'hidden'</span><span class="s1">), </span><span class="s13">200</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>};</span></p>
<p class="p6"><span class="s7"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> showDialog = (message, buttons) =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">DOM</span><span class="s1">.dialog.message.textContent = message;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">DOM</span><span class="s1">.dialog.buttons.innerHTML = </span><span class="s8">''</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>buttons.forEach(btn =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> buttonEl = document.createElement(</span><span class="s8">'button'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>buttonEl.textContent = btn.text;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>buttonEl.className = btn.</span><span class="s11">class</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>buttonEl.onclick = () =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>closeModal(</span><span class="s8">'dialogModal'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">if</span><span class="s1">(btn.callback) btn.callback();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>};</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s12">DOM</span><span class="s1">.dialog.buttons.appendChild(buttonEl);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>});</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">DOM</span><span class="s1">.dialog.modal.classList.remove(</span><span class="s8">'hidden'</span><span class="s1">, </span><span class="s8">'opacity-0'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">DOM</span><span class="s1">.dialog.modal.firstElementChild.classList.remove(</span><span class="s8">'scale-95'</span><span class="s1">, </span><span class="s8">'opacity-0'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>};</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s4"> showAlert = (message) =&gt; showDialog(message, [{text: </span><span class="s1">'OK'</span><span class="s4">, </span><span class="s11">class</span><span class="s4">: </span><span class="s1">'bg-red-600 text-white py-2 px-6 rounded-lg hover:bg-red-700 transition font-semibold'</span><span class="s4">}]);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> showConfirm = (message, onConfirm) =&gt; showDialog(message, [</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>{text: </span><span class="s1">'Annuler'</span><span class="s4">, </span><span class="s11">class</span><span class="s4">: </span><span class="s1">'bg-gray-600 text-white py-2 px-5 rounded-lg hover:bg-gray-500 transition font-semibold'</span><span class="s4">, callback: () =&gt; onConfirm(</span><span class="s11">false</span><span class="s4">)},</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>{text: </span><span class="s1">'Confirmer'</span><span class="s4">, </span><span class="s11">class</span><span class="s4">: </span><span class="s1">'bg-red-800 text-white py-2 px-5 rounded-lg hover:bg-red-700 transition font-semibold'</span><span class="s4">, callback: () =&gt; onConfirm(</span><span class="s11">true</span><span class="s4">)}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>]);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> updateRatingDisplay = (rating) =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">DOM</span><span class="s1">.modalFields.ratingContainer.querySelectorAll(</span><span class="s8">'.fa-star'</span><span class="s1">).forEach(star =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>star.classList.toggle(</span><span class="s8">'selected'</span><span class="s1">, parseInt(star.dataset.value) &lt;= rating);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>});</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>};</span></p>
<p class="p6"><span class="s7"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> renderModalContacts = () =&gt; {<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> list = </span><span class="s12">DOM</span><span class="s1">.modalFields.contactsList;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>list.innerHTML = </span><span class="s8">''</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                 </span></span><span class="s11">if</span><span class="s1"> (!venueDataForModal.contacts || venueDataForModal.contacts.length === </span><span class="s13">0</span><span class="s1">) {</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                    </span>list.innerHTML = </span><span class="s1">`&lt;p class="text-sm text-gray-500 text-center"&gt;Aucun contact.&lt;/p&gt;`</span><span class="s4">; </span><span class="s11">return</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>venueDataForModal.contacts.forEach((contact, index) =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> item = document.createElement(</span><span class="s8">'div'</span><span class="s1">);</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                    </span>item.className = </span><span class="s1">'bg-gray-700/50 p-3 rounded-md flex items-start justify-between gap-2'</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>item.innerHTML = </span><span class="s8">`</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;p class="font-semibold text-gray-200"&gt;</span><span class="s4">${contact.contactName || </span><span class="s1">'N/A'</span><span class="s4">}</span><span class="s1">&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;p class="text-sm text-blue-400 break-all"&gt;</span><span class="s4">${contact.contactEmail || </span><span class="s1">''</span><span class="s4">}</span><span class="s1">&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;p class="text-sm text-gray-300"&gt;</span><span class="s4">${contact.contactPhone || </span><span class="s1">''</span><span class="s4">}</span><span class="s1">&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;p class="text-xs text-gray-500 mt-1"&gt;</span><span class="s4">${contact.contactNotes || </span><span class="s1">''</span><span class="s4">}</span><span class="s1">&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;button data-index="</span><span class="s4">${index}</span><span class="s1">" class="delete-contact-btn text-red-500 hover:text-red-700 p-1"&gt;&lt;i class="fas fa-trash"&gt;&lt;/i&gt;&lt;/button&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>`</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>item.querySelector(</span><span class="s8">'.delete-contact-btn'</span><span class="s1">).addEventListener(</span><span class="s8">'click'</span><span class="s1">, () =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>venueDataForModal.contacts.splice(index, </span><span class="s13">1</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>renderModalContacts();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>});</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>list.appendChild(item);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>});</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>};</span></p>
<p class="p6"><span class="s7"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> openModal = (venue) =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>currentVenueId = venue.id;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>venueDataForModal = </span><span class="s12">JSON</span><span class="s1">.parse(</span><span class="s12">JSON</span><span class="s1">.stringify(venue));</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> (!venueDataForModal.contacts) venueDataForModal.contacts = [];</span></p>
<p class="p6"><span class="s7"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> isNew = !venue.id;</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s12">DOM</span><span class="s4">.modalFields.title.innerHTML = isNew ? </span><span class="s1">`&lt;input type="text" id="modalNameInput" class="text-3xl font-bebas rock-title w-full bg-gray-700 border-b-2 border-gray-600 focus:border-red-500 outline-none text-white" placeholder="Nom du lieu"&gt;`</span><span class="s4"> : venue.name;</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s12">DOM</span><span class="s4">.modalFields.locationAndDate.innerHTML = isNew ? </span><span class="s1">`&lt;input type="text" id="modalLocationInput" class="text-sm w-full bg-gray-700 border-b-2 border-gray-600 focus:border-red-500 outline-none text-gray-400" placeholder="Adresse, CP, Ville, Pays"&gt;`</span><span class="s4"> : </span><span class="s1">`</span><span class="s4">${venue.location || </span><span class="s1">''</span><span class="s4">}</span><span class="s1"> | </span><span class="s4">${venue.dates || </span><span class="s1">'Pas de date'</span><span class="s4">}</span><span class="s1">`</span><span class="s4">;</span></p>
<p class="p6"><span class="s7"></span><br></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s4"> statuses = [</span><span class="s1">"À Contacter"</span><span class="s4">, </span><span class="s1">"Contacté"</span><span class="s4">, </span><span class="s1">"En Négociation"</span><span class="s4">, </span><span class="s1">"Confirmé"</span><span class="s4">, </span><span class="s1">"Rejeté"</span><span class="s4">, </span><span class="s1">"Stand-by"</span><span class="s4">];</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">DOM</span><span class="s1">.modalFields.status.innerHTML = statuses.map(s =&gt; </span><span class="s8">`&lt;option value="</span><span class="s1">${s}</span><span class="s8">" </span><span class="s1">${s === venue.status ? </span><span class="s8">'selected'</span><span class="s1"> : </span><span class="s8">''</span><span class="s1">}</span><span class="s8">&gt;</span><span class="s1">${s}</span><span class="s8">&lt;/option&gt;`</span><span class="s1">).join(</span><span class="s8">''</span><span class="s1">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>updateRatingDisplay(venue.rating || </span><span class="s13">0</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">DOM</span><span class="s1">.modalFields.description.value = venue.notes || </span><span class="s8">''</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">let</span><span class="s1"> detailsHtml = </span><span class="s8">''</span><span class="s1">;</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s4">(venue.type) detailsHtml += </span><span class="s1">`&lt;p class="text-sm"&gt;&lt;strong class="font-semibold text-gray-400 w-24 inline-block"&gt;Type:&lt;/strong&gt; &lt;span class="text-gray-200"&gt;</span><span class="s4">${venue.type}</span><span class="s1">&lt;/span&gt;&lt;/p&gt;`</span><span class="s4">;</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s4">(venue.capacity) detailsHtml += </span><span class="s1">`&lt;p class="text-sm"&gt;&lt;strong class="font-semibold text-gray-400 w-24 inline-block"&gt;Capacité:&lt;/strong&gt; &lt;span class="text-gray-200"&gt;</span><span class="s4">${venue.capacity}</span><span class="s1">&lt;/span&gt;&lt;/p&gt;`</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">DOM</span><span class="s1">.modalFields.details.innerHTML = detailsHtml;</span></p>
<p class="p6"><span class="s7"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">DOM</span><span class="s1">.modalFields.genres.innerHTML = (venue.genres || </span><span class="s8">''</span><span class="s1">).split(</span><span class="s8">';'</span><span class="s1">).map(g =&gt; g.trim() ? </span><span class="s8">`&lt;span class="genre-tag"&gt;</span><span class="s1">${g.trim()}</span><span class="s8">&lt;/span&gt;`</span><span class="s1"> : </span><span class="s8">''</span><span class="s1">).join(</span><span class="s8">''</span><span class="s1">);</span></p>
<p class="p6"><span class="s7"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">let</span><span class="s1"> linksHtml = </span><span class="s8">''</span><span class="s1">;</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s4">(venue.website) linksHtml += </span><span class="s1">`&lt;a href="</span><span class="s4">${venue.website.startsWith(</span><span class="s1">'http'</span><span class="s4">) ? </span><span class="s1">''</span><span class="s4"> : </span><span class="s1">'//'</span><span class="s4">}${venue.website}</span><span class="s1">" target="_blank" class="flex items-center gap-2 text-blue-400 hover:text-blue-300 transition"&gt;&lt;i class="fa-solid fa-globe fa-fw"&gt;&lt;/i&gt; </span><span class="s4">${venue.website}</span><span class="s1">&lt;/a&gt;`</span><span class="s4">;</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s4">(venue.facebook) linksHtml += </span><span class="s1">`&lt;a href="</span><span class="s4">${venue.facebook.startsWith(</span><span class="s1">'http'</span><span class="s4">) ? </span><span class="s1">''</span><span class="s4"> : </span><span class="s1">'//'</span><span class="s4">}${venue.facebook}</span><span class="s1">" target="_blank" class="flex items-center gap-2 text-blue-400 hover:text-blue-300 transition"&gt;&lt;i class="fa-brands fa-facebook fa-fw"&gt;&lt;/i&gt; Facebook&lt;/a&gt;`</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">DOM</span><span class="s1">.modalFields.links.innerHTML = linksHtml || </span><span class="s8">'&lt;p class="text-sm text-gray-500"&gt;Aucun lien&lt;/p&gt;'</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>renderModalContacts();</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">DOM</span><span class="s1">.modal.classList.remove(</span><span class="s8">'hidden'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>setTimeout(() =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s12">DOM</span><span class="s1">.modal.classList.remove(</span><span class="s8">'opacity-0'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s12">DOM</span><span class="s1">.modal.firstElementChild.classList.remove(</span><span class="s8">'scale-95'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}, </span><span class="s13">10</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>};</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> renderVenues = (venues) =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> activeVenues = venues.filter(v =&gt; !v.isTrashed);</span></p>
<p class="p6"><span class="s7"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> groupedVenues = activeVenues.reduce((acc, venue) =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> type = venue.type || </span><span class="s8">'Inconnu'</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">if</span><span class="s1"> (!acc[type]) acc[type] = [];</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>acc[type].push(venue);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">return</span><span class="s1"> acc;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}, {});</span></p>
<p class="p6"><span class="s7"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> sortedTypes = </span><span class="s12">Object</span><span class="s1">.keys(groupedVenues).sort();</span></p>
<p class="p6"><span class="s7"></span><br></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s12">DOM</span><span class="s4">.venueSummary.innerHTML = sortedTypes.map(type =&gt; </span><span class="s1">`&lt;a href="#type-</span><span class="s4">${type.replace(</span><span class="s6">/[^a-zA-Z0-9]/</span><span class="s11">g</span><span class="s4">, </span><span class="s1">'-'</span><span class="s4">)}</span><span class="s1">" class="text-red-400 hover:text-red-300 font-semibold"&gt;</span><span class="s4">${type}</span><span class="s1">&lt;/a&gt;`</span><span class="s4">).join(</span><span class="s1">'&lt;span class="text-gray-600"&gt;|&lt;/span&gt;'</span><span class="s4">);</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">DOM</span><span class="s1">.venueGrid.innerHTML = </span><span class="s8">''</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> (activeVenues.length === </span><span class="s13">0</span><span class="s1"> &amp;&amp; </span><span class="s12">DOM</span><span class="s1">.loadingDiv.style.display === </span><span class="s8">'none'</span><span class="s1">) {</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s12">DOM</span><span class="s4">.venueGrid.innerHTML = </span><span class="s1">`&lt;p class="text-gray-400 col-span-full text-center"&gt;Aucun lieu trouvé. Essayez un autre filtre.&lt;/p&gt;`</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">return</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p6"><span class="s7"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>sortedTypes.forEach(type =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> section = document.createElement(</span><span class="s8">'div'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>section.id = </span><span class="s8">`type-</span><span class="s1">${type.replace(</span><span class="s6">/[^a-zA-Z0-9]/</span><span class="s11">g</span><span class="s1">, </span><span class="s8">'-'</span><span class="s1">)}</span><span class="s8">`</span><span class="s1">;</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                    </span>section.innerHTML = </span><span class="s1">`&lt;h2 class="text-2xl font-bebas rock-title text-red-400 mb-4 border-b-2 border-gray-700 pb-2"&gt;</span><span class="s4">${type}</span><span class="s1">&lt;/h2&gt;`</span><span class="s4">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                    </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> grid = document.createElement(</span><span class="s8">'div'</span><span class="s1">);</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                    </span>grid.className = </span><span class="s1">'grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6'</span><span class="s4">;</span></p>
<p class="p6"><span class="s7"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>groupedVenues[type].forEach(venue =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">const</span><span class="s1"> card = document.createElement(</span><span class="s8">'div'</span><span class="s1">);</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                        </span>card.className = </span><span class="s1">'bg-gray-800 rounded-xl shadow-lg hover:shadow-red-500/20 ring-1 ring-gray-700 hover:ring-red-500 transition-all duration-300 overflow-hidden cursor-pointer flex flex-col'</span><span class="s4">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                        </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">let</span><span class="s1"> ratingStars = </span><span class="s8">''</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">for</span><span class="s1">(</span><span class="s11">let</span><span class="s1"> i = </span><span class="s13">1</span><span class="s1">; i &lt;= </span><span class="s13">6</span><span class="s1">; i++) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span>ratingStars += </span><span class="s8">`&lt;i class="fa-solid fa-star </span><span class="s1">${i &lt;= (venue.rating || </span><span class="s13">0</span><span class="s1">) ? </span><span class="s8">'card-star'</span><span class="s1"> : </span><span class="s8">'card-star-empty'</span><span class="s1">}</span><span class="s8">"&gt;&lt;/i&gt;`</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>}</span></p>
<p class="p6"><span class="s7"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>card.innerHTML = </span><span class="s8">`</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;div class="p-5 flex-grow"&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;div class="flex justify-between items-start mb-3"&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                                    </span>&lt;span class="text-xs font-bold uppercase px-2 py-1 bg-gray-600 text-white rounded"&gt;</span><span class="s4">${venue.type || </span><span class="s1">'Lieu'</span><span class="s4">}</span><span class="s1">&lt;/span&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                                    </span>&lt;div class="text-xs space-x-1"&gt;</span><span class="s4">${ratingStars}</span><span class="s1">&lt;/div&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;/div&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;h3 class="text-xl font-bebas rock-title text-gray-100 truncate" title="</span><span class="s4">${venue.name}</span><span class="s1">"&gt;</span><span class="s4">${venue.name}</span><span class="s1">&lt;/h3&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;p class="text-sm text-gray-400 flex items-center gap-2 mt-1"&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                                    </span>&lt;i class="fas fa-map-marker-alt fa-fw"&gt;&lt;/i&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                                    </span>&lt;span&gt;</span><span class="s4">${venue.location || </span><span class="s1">'Lieu non spécifié'</span><span class="s4">}</span><span class="s1">&lt;/span&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;div class="bg-gray-900/50 px-5 py-3 text-xs text-gray-400 border-t border-gray-700/50 flex justify-between items-center"&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;button class="trash-btn text-gray-600 hover:text-red-500 transition" data-id="</span><span class="s4">${venue.id}</span><span class="s1">"&gt;&lt;i class="fas fa-trash-alt"&gt;&lt;/i&gt;&lt;/button&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                                </span>&lt;div class="text-right font-bold uppercase </span><span class="s4">${venue.status === </span><span class="s1">'Confirmé'</span><span class="s4"> ? </span><span class="s1">'text-green-400'</span><span class="s4"> : </span><span class="s1">'text-gray-500'</span><span class="s4">}</span><span class="s1">"&gt;</span><span class="s4">${venue.status || </span><span class="s1">'À contacter'</span><span class="s4">}</span><span class="s1">&lt;/div&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;/div&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                        </span>`</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>card.querySelector(</span><span class="s8">'.p-5'</span><span class="s1">).addEventListener(</span><span class="s8">'click'</span><span class="s1">, () =&gt; openModal(venue));</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>card.querySelector(</span><span class="s8">'.trash-btn'</span><span class="s1">).addEventListener(</span><span class="s8">'click'</span><span class="s1">, (e) =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span>e.stopPropagation();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span>trashVenue(e.currentTarget.dataset.id);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>});</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>grid.appendChild(card);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>});</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>section.appendChild(grid);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s12">DOM</span><span class="s1">.venueGrid.appendChild(section);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>});</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>};</span></p>
<p class="p6"><span class="s7"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> renderTrashedVenues = (venues) =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> trashedVenues = venues.filter(v =&gt; v.isTrashed);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">DOM</span><span class="s1">.trashGrid.innerHTML = </span><span class="s8">''</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">DOM</span><span class="s1">.trashCount.textContent = trashedVenues.length;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">DOM</span><span class="s1">.trashCount.classList.toggle(</span><span class="s8">'hidden'</span><span class="s1">, trashedVenues.length === </span><span class="s13">0</span><span class="s1">);</span></p>
<p class="p6"><span class="s7"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> (trashedVenues.length === </span><span class="s13">0</span><span class="s1">) {</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s12">DOM</span><span class="s4">.trashGrid.innerHTML = </span><span class="s1">'&lt;p class="text-gray-500 col-span-full text-center"&gt;La corbeille est vide.&lt;/p&gt;'</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">return</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p6"><span class="s7"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>trashedVenues.forEach(venue =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> card = document.createElement(</span><span class="s8">'div'</span><span class="s1">);</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                    </span>card.className = </span><span class="s1">'bg-gray-800/50 ring-1 ring-gray-700 rounded-lg p-4 flex flex-col justify-between'</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>card.innerHTML = </span><span class="s8">`</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;h3 class="font-bold text-gray-300 truncate"&gt;</span><span class="s4">${venue.name}</span><span class="s1">&lt;/h3&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;p class="text-sm text-gray-500"&gt;</span><span class="s4">${venue.location || </span><span class="s1">'N/A'</span><span class="s4">}</span><span class="s1">&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div class="mt-4 flex gap-2"&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;button class="restore-btn flex-1 bg-green-700 hover:bg-green-600 text-white text-xs py-1 px-2 rounded" data-id="</span><span class="s4">${venue.id}</span><span class="s1">"&gt;Restaurer&lt;/button&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;button class="perm-delete-btn flex-1 bg-red-800 hover:bg-red-700 text-white text-xs py-1 px-2 rounded" data-id="</span><span class="s4">${venue.id}</span><span class="s1">" data-name="</span><span class="s4">${venue.name}</span><span class="s1">"&gt;Suppr. def.&lt;/button&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>`</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>card.querySelector(</span><span class="s8">'.restore-btn'</span><span class="s1">).addEventListener(</span><span class="s8">'click'</span><span class="s1">, (e) =&gt; restoreVenue(e.currentTarget.dataset.id));</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>card.querySelector(</span><span class="s8">'.perm-delete-btn'</span><span class="s1">).addEventListener(</span><span class="s8">'click'</span><span class="s1">, (e) =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">const</span><span class="s1"> {id, name} = e.currentTarget.dataset;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>showConfirm(</span><span class="s8">`Supprimer définitivement "</span><span class="s1">${name}</span><span class="s8">" ?`</span><span class="s1">, (confirmed) =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s11">if</span><span class="s1"> (confirmed) permanentlyDeleteVenue(id);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>});</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>});</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s12">DOM</span><span class="s1">.trashGrid.appendChild(card);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>});</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> filterAndRender = () =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> searchTerm = </span><span class="s12">DOM</span><span class="s1">.searchInput.value.toLowerCase();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> filteredVenues = venuesData.filter(v =&gt;<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>(v.name || </span><span class="s8">''</span><span class="s1">).toLowerCase().includes(searchTerm) ||<span class="Apple-converted-space"> </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>(v.location || </span><span class="s8">''</span><span class="s1">).toLowerCase().includes(searchTerm) ||</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>(v.notes || </span><span class="s8">''</span><span class="s1">).toLowerCase().includes(searchTerm) ||</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>(v.genres || </span><span class="s8">''</span><span class="s1">).toLowerCase().includes(searchTerm) ||</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                     </span>(v.type || </span><span class="s8">''</span><span class="s1">).toLowerCase().includes(searchTerm) ||</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>(v.country || </span><span class="s8">''</span><span class="s1">).toLowerCase().includes(searchTerm) ||</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>(v.contacts || []).some(c =&gt; (c.contactName || </span><span class="s8">''</span><span class="s1">).toLowerCase().includes(searchTerm))</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>renderVenues(filteredVenues);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>};</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> renderDirectory = (venues) =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> searchTerm = </span><span class="s12">DOM</span><span class="s1">.directorySearchInput.value.toLowerCase();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">DOM</span><span class="s1">.directoryList.innerHTML = </span><span class="s8">''</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> allContacts = [];</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>venues.filter(v =&gt; !v.isTrashed).forEach(venue =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">if</span><span class="s1"> (venue.contacts &amp;&amp; venue.contacts.length &gt; </span><span class="s13">0</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>venue.contacts.forEach(contact =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span>allContacts.push({ ...contact, venueName: venue.name, venueId: venue.id });</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>});</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>});</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> filteredContacts = allContacts.filter(c =&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>(c.contactName || </span><span class="s8">''</span><span class="s1">).toLowerCase().includes(searchTerm) ||</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>(c.contactEmail || </span><span class="s8">''</span><span class="s1">).toLowerCase().includes(searchTerm) ||</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>(c.contactPhone || </span><span class="s8">''</span><span class="s1">).toLowerCase().includes(searchTerm) ||</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>(c.venueName || </span><span class="s8">''</span><span class="s1">).toLowerCase().includes(searchTerm)</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>);</span></p>
<p class="p6"><span class="s7"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1">(filteredContacts.length === </span><span class="s13">0</span><span class="s1">) {</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s12">DOM</span><span class="s4">.directoryList.innerHTML = </span><span class="s1">`&lt;p class="text-gray-500 text-center"&gt;Aucun contact trouvé.&lt;/p&gt;`</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">return</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p6"><span class="s7"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>filteredContacts.sort((a,b) =&gt; (a.contactName || </span><span class="s8">''</span><span class="s1">).localeCompare(b.contactName)).forEach(contact =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                     </span></span><span class="s11">const</span><span class="s1"> item = document.createElement(</span><span class="s8">'div'</span><span class="s1">);</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                     </span>item.className = </span><span class="s1">'bg-gray-700/80 p-4 rounded-lg flex justify-between items-center'</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                     </span>item.innerHTML = </span><span class="s8">`</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;p class="font-bold text-lg text-gray-100"&gt;</span><span class="s4">${contact.contactName}</span><span class="s1">&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;p class="text-sm text-blue-400"&gt;</span><span class="s4">${contact.contactEmail || </span><span class="s1">'Pas d\'email'</span><span class="s4">}</span><span class="s1">&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;p class="text-sm text-gray-300"&gt;</span><span class="s4">${contact.contactPhone || </span><span class="s1">'Pas de téléphone'</span><span class="s4">}</span><span class="s1">&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;p class="text-xs text-gray-500 mt-1"&gt;Lieu: </span><span class="s4">${contact.venueName}</span><span class="s1">&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                     </span>`</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                     </span></span><span class="s12">DOM</span><span class="s1">.directoryList.appendChild(item);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>});</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>};</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> trashVenue = </span><span class="s11">async</span><span class="s1"> (id) =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> venueDocRef = doc(db, </span><span class="s8">`artifacts/</span><span class="s1">${appId}</span><span class="s8">/public/data/venues`</span><span class="s1">, id);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">await</span><span class="s1"> updateDoc(venueDocRef, { isTrashed: </span><span class="s11">true</span><span class="s1"> });</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>};</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> restoreVenue = </span><span class="s11">async</span><span class="s1"> (id) =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> venueDocRef = doc(db, </span><span class="s8">`artifacts/</span><span class="s1">${appId}</span><span class="s8">/public/data/venues`</span><span class="s1">, id);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">await</span><span class="s1"> updateDoc(venueDocRef, { isTrashed: </span><span class="s11">false</span><span class="s1"> });</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>};</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> permanentlyDeleteVenue = </span><span class="s11">async</span><span class="s1"> (id) =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">await</span><span class="s1"> deleteDoc(doc(db, </span><span class="s8">`artifacts/</span><span class="s1">${appId}</span><span class="s8">/public/data/venues`</span><span class="s1">, id));</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>};</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> initMap = () =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1">(isMapInitialized) </span><span class="s11">return</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>map = </span><span class="s12">L</span><span class="s1">.map(</span><span class="s12">DOM</span><span class="s1">.mapContainer).setView([</span><span class="s13">46.2276</span><span class="s1">, </span><span class="s13">2.2137</span><span class="s1">], </span><span class="s13">5</span><span class="s1">); </span><span class="s14">// Centered on France</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s12">L</span><span class="s4">.tileLayer(</span><span class="s1">'https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png'</span><span class="s4">, {</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                    </span>attribution: </span><span class="s1">'&amp;copy; &lt;a href="https://www.openstreetmap.org/copyright"&gt;OpenStreetMap&lt;/a&gt; contributors &amp;copy; &lt;a href="https://carto.com/attributions"&gt;CARTO&lt;/a&gt;'</span><span class="s4">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>subdomains: </span><span class="s8">'abcd'</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>maxZoom: </span><span class="s13">20</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}).addTo(map);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>isMapInitialized = </span><span class="s11">true</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>updateMapMarkers();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>};</span></p>
<p class="p6"><span class="s7"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> updateMapMarkers = () =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1">(!isMapInitialized) </span><span class="s11">return</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>map.eachLayer(layer =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">if</span><span class="s1"> (layer </span><span class="s11">instanceof</span><span class="s1"> </span><span class="s12">L</span><span class="s1">.</span><span class="s12">Marker</span><span class="s1">) map.removeLayer(layer);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>});</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>venuesData.filter(v =&gt; !v.isTrashed).forEach(venue =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">if</span><span class="s1"> (venue.lat &amp;&amp; venue.lng) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">const</span><span class="s1"> marker = </span><span class="s12">L</span><span class="s1">.marker([venue.lat, venue.lng]).addTo(map);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>marker.bindPopup(</span><span class="s8">`&lt;b&gt;</span><span class="s1">${venue.name}</span><span class="s8">&lt;/b&gt;&lt;br&gt;</span><span class="s1">${venue.location}</span><span class="s8">&lt;br&gt;Note: </span><span class="s1">${venue.rating || </span><span class="s8">'N/A'</span><span class="s1">}</span><span class="s8">/6`</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>});</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>};</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">             </span></span><span class="s1">// --- Tour Functions ---</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> renderTourList = () =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">DOM</span><span class="s1">.tourList.innerHTML = </span><span class="s8">''</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                 </span></span><span class="s11">if</span><span class="s1"> (toursData.length === </span><span class="s13">0</span><span class="s1">) {</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s12">DOM</span><span class="s4">.tourList.innerHTML = </span><span class="s1">'&lt;p class="text-gray-500 text-center"&gt;Aucune tournée créée. Commencez par en ajouter une !&lt;/p&gt;'</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">return</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>toursData.forEach(tour =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> tourElement = document.createElement(</span><span class="s8">'div'</span><span class="s1">);</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                    </span>tourElement.className = </span><span class="s1">'bg-gray-800 p-4 rounded-lg flex justify-between items-center'</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>tourElement.innerHTML = </span><span class="s8">`</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;h3 class="font-bold text-xl text-red-400"&gt;</span><span class="s4">${tour.name}</span><span class="s1">&lt;/h3&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;p class="text-sm text-gray-400"&gt;</span><span class="s4">${(tour.dates || []).length}</span><span class="s1"> dates&lt;/p&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div class="flex gap-2"&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                             </span>&lt;button class="view-tour-btn bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded" data-tour-id="</span><span class="s4">${tour.id}</span><span class="s1">"&gt;Voir&lt;/button&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                             </span>&lt;button class="delete-tour-btn bg-red-800 hover:bg-red-700 text-white py-2 px-4 rounded" data-tour-id="</span><span class="s4">${tour.id}</span><span class="s1">" data-tour-name="</span><span class="s4">${tour.name}</span><span class="s1">"&gt;&lt;i class="fas fa-trash"&gt;&lt;/i&gt;&lt;/button&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>`</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>tourElement.querySelector(</span><span class="s8">'.view-tour-btn'</span><span class="s1">).addEventListener(</span><span class="s8">'click'</span><span class="s1">, (e) =&gt; showTourDetail(e.currentTarget.dataset.tourId));</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>tourElement.querySelector(</span><span class="s8">'.delete-tour-btn'</span><span class="s1">).addEventListener(</span><span class="s8">'click'</span><span class="s1">, (e) =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">const</span><span class="s1"> { tourId, tourName } = e.currentTarget.dataset;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>showConfirm(</span><span class="s8">`Supprimer la tournée "</span><span class="s1">${tourName}</span><span class="s8">" ?`</span><span class="s1">, </span><span class="s11">async</span><span class="s1"> (confirmed) =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                            </span></span><span class="s11">if</span><span class="s1"> (confirmed) </span><span class="s11">await</span><span class="s1"> deleteDoc(doc(toursCollectionRef, tourId));</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>});</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>});</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s12">DOM</span><span class="s1">.tourList.appendChild(tourElement);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>});</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>};</span></p>
<p class="p6"><span class="s7"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> showTourDetail = (tourId) =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> tour = toursData.find(t =&gt; t.id === tourId);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> (!tour) </span><span class="s11">return</span><span class="s1">;</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">DOM</span><span class="s1">.tourDetailView.innerHTML = </span><span class="s8">`</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;div class="bg-gray-800 p-6 rounded-lg"&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div class="flex justify-between items-center mb-4"&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;h3 class="text-2xl font-bebas rock-title text-white"&gt;</span><span class="s4">${tour.name}</span><span class="s1">&lt;/h3&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                            </span>&lt;button id="closeTourDetailBtn" class="text-gray-500 hover:text-red-500"&gt;&amp;times;&lt;/button&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div class="flex justify-center gap-2 mb-4 border-b border-gray-700"&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                             </span>&lt;button class="tour-view-btn active p-2" data-view="list"&gt;&lt;i class="fas fa-list"&gt;&lt;/i&gt; Liste&lt;/button&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                             </span>&lt;button class="tour-view-btn p-2" data-view="map"&gt;&lt;i class="fas fa-map"&gt;&lt;/i&gt; Carte&lt;/button&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                             </span>&lt;button class="tour-view-btn p-2" data-view="calendar"&gt;&lt;i class="fas fa-calendar-alt"&gt;&lt;/i&gt; Calendrier&lt;/button&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                        </span>&lt;div id="tourContent"&gt;&lt;/div&gt;</span></p>
<p class="p8"><span class="s1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;`</span><span class="s4">;</span></p>
<p class="p6"><span class="s7"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">DOM</span><span class="s1">.tourList.classList.add(</span><span class="s8">'hidden'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">DOM</span><span class="s1">.tourDetailView.classList.remove(</span><span class="s8">'hidden'</span><span class="s1">);</span></p>
<p class="p6"><span class="s7"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>document.getElementById(</span><span class="s8">'closeTourDetailBtn'</span><span class="s1">).addEventListener(</span><span class="s8">'click'</span><span class="s1">, () =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s12">DOM</span><span class="s1">.tourDetailView.classList.add(</span><span class="s8">'hidden'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s12">DOM</span><span class="s1">.tourList.classList.remove(</span><span class="s8">'hidden'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>});</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>document.querySelectorAll(</span><span class="s8">'.tour-view-btn'</span><span class="s1">).forEach(btn =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>btn.addEventListener(</span><span class="s8">'click'</span><span class="s1">, (e) =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>document.querySelectorAll(</span><span class="s8">'.tour-view-btn'</span><span class="s1">).forEach(b =&gt; b.classList.remove(</span><span class="s8">'active'</span><span class="s1">, </span><span class="s8">'text-red-400'</span><span class="s1">));</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>e.currentTarget.classList.add(</span><span class="s8">'active'</span><span class="s1">, </span><span class="s8">'text-red-400'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>renderTourContent(tour, e.currentTarget.dataset.view);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>});</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>});</span></p>
<p class="p6"><span class="s7"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>renderTourContent(tour, </span><span class="s8">'list'</span><span class="s1">); </span><span class="s14">// Default view</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>};</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> renderTourContent = (tour, view) =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> container = document.getElementById(</span><span class="s8">'tourContent'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>container.innerHTML = </span><span class="s8">''</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                 </span></span><span class="s11">switch</span><span class="s1">(view) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">case</span><span class="s1"> </span><span class="s8">'list'</span><span class="s1">:</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                         </span></span><span class="s1">// Implement list view render</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>container.innerHTML = </span><span class="s8">`&lt;div class="space-y-2"&gt;`</span><span class="s1"> + (tour.dates || []).map(date =&gt; </span><span class="s8">`&lt;div class="bg-gray-700 p-3 rounded"&gt;</span><span class="s1">${date.date}</span><span class="s8"> - </span><span class="s1">${venuesData.find(v=&gt;v.id === date.venueId)?.name || </span><span class="s8">'Lieu inconnu'</span><span class="s1">}</span><span class="s8">&lt;/div&gt;`</span><span class="s1">).join(</span><span class="s8">''</span><span class="s1">) + </span><span class="s8">`&lt;/div&gt;`</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">break</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">case</span><span class="s1"> </span><span class="s8">'map'</span><span class="s1">:</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                        </span>container.innerHTML = </span><span class="s1">`&lt;div id="tourMap" style="height: 500px;"&gt;&lt;/div&gt;`</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>initTourMap(tour);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">break</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">case</span><span class="s1"> </span><span class="s8">'calendar'</span><span class="s1">:</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                        </span></span><span class="s1">// Implement calendar view render</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                         </span>container.innerHTML = </span><span class="s1">`&lt;div class="text-center text-gray-500"&gt;Calendrier à venir.&lt;/div&gt;`</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">break</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>};</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> initTourMap = (tour) =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> datesWithCoords = (tour.dates || [])</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>.map(date =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">const</span><span class="s1"> venue = venuesData.find(v =&gt; v.id === date.venueId);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">return</span><span class="s1"> venue &amp;&amp; venue.lat &amp;&amp; venue.lng ? </span><span class="s12">L</span><span class="s1">.latLng(venue.lat, venue.lng) : </span><span class="s11">null</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>})</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>.filter(</span><span class="s12">Boolean</span><span class="s1">);</span></p>
<p class="p6"><span class="s7"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> (!tourMap) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>tourMap = </span><span class="s12">L</span><span class="s1">.map(</span><span class="s8">'tourMap'</span><span class="s1">);</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s12">L</span><span class="s4">.tileLayer(</span><span class="s1">'https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png'</span><span class="s4">, { attribution: </span><span class="s1">'CARTO'</span><span class="s4"> }).addTo(tourMap);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p6"><span class="s7"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> (tourRoutingControl) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>tourMap.removeControl(tourRoutingControl);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> (datesWithCoords.length &gt; </span><span class="s13">1</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>tourRoutingControl = </span><span class="s12">L</span><span class="s1">.</span><span class="s12">Routing</span><span class="s1">.control({</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>waypoints: datesWithCoords,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>routeWhileDragging: </span><span class="s11">true</span><span class="s1">,</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>lineOptions: { styles: [{color: </span><span class="s8">'#ef4444'</span><span class="s1">, opacity: </span><span class="s13">1</span><span class="s1">, weight: </span><span class="s13">5</span><span class="s1">}] }</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>}).addTo(tourMap);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>} </span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> (datesWithCoords.length === </span><span class="s13">1</span><span class="s1">) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                     </span>tourMap.setView(datesWithCoords[</span><span class="s13">0</span><span class="s1">], </span><span class="s13">13</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                     </span></span><span class="s12">L</span><span class="s1">.marker(datesWithCoords[</span><span class="s13">0</span><span class="s1">]).addTo(tourMap);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>};</span></p>
<p class="p6"><span class="s7"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// --- SEEDING LOGIC ---</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">async</span><span class="s1"> </span><span class="s11">function</span><span class="s1"> checkAndSeedData() {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> snapshot = </span><span class="s11">await</span><span class="s1"> getDocs(venuesCollectionRef);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> (snapshot.empty) {</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s12">DOM</span><span class="s4">.loadingDiv.innerHTML += </span><span class="s1">'&lt;p class="mt-2 text-sm text-red-400"&gt;Première utilisation : initialisation de la base de données. Un instant...&lt;/p&gt;'</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> venuesToSeed = getInitialData();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> batch = writeBatch(db);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>venuesToSeed.forEach(venue =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">const</span><span class="s1"> docRef = doc(venuesCollectionRef);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                        </span>batch.</span><span class="s11">set</span><span class="s1">(docRef, {...venue, isTrashed: </span><span class="s11">false</span><span class="s1"> });</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>});</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">await</span><span class="s1"> batch.commit();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p6"><span class="s7"></span><br></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">function</span><span class="s1"> getInitialData() {</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">// This function now contains all the data from all the CSV files provided.</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">return</span><span class="s1"> [</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                    </span>{ </span><span class="s1">"name"</span><span class="s4">: </span><span class="s1">"Festival Du Cinéma International En Abitibi-Témiscamingue"</span><span class="s4">, </span><span class="s1">"country"</span><span class="s4">: </span><span class="s1">"Canada"</span><span class="s4">, </span><span class="s1">"location"</span><span class="s4">: </span><span class="s1">"145 Rue Taschereau Ouest, Rouyn-Noranda, J9X2V5, Québec"</span><span class="s4">, </span><span class="s1">"dates"</span><span class="s4">: </span><span class="s1">"28 oct - 2 nov"</span><span class="s4">, </span><span class="s1">"type"</span><span class="s4">: </span><span class="s1">"Festival"</span><span class="s4">, </span><span class="s1">"rating"</span><span class="s4">: </span><span class="s13">0</span><span class="s4">, </span><span class="s1">"status"</span><span class="s4">: </span><span class="s1">"À Contacter"</span><span class="s4">, </span><span class="s1">"contacts"</span><span class="s4">: [{ </span><span class="s1">"contactName"</span><span class="s4">: </span><span class="s1">"Information"</span><span class="s4">, </span><span class="s1">"contactEmail"</span><span class="s4">: </span><span class="s1">"info@festivalcinema.ca"</span><span class="s4">, </span><span class="s1">"contactPhone"</span><span class="s4">: </span><span class="s1">"+1 8197626212"</span><span class="s4"> }], </span><span class="s1">"website"</span><span class="s4">: </span><span class="s1">"www.festivalcinema.ca"</span><span class="s4">, </span><span class="s1">"facebook"</span><span class="s4">: </span><span class="s1">"www.facebook.com/festcinema.at"</span><span class="s4">, </span><span class="s1">"genres"</span><span class="s4">: </span><span class="s1">"cinéma; musiques actuelles"</span><span class="s4">, </span><span class="s1">"capacity"</span><span class="s4">: </span><span class="s1">"1000-3000"</span><span class="s4">, </span><span class="s1">"notes"</span><span class="s4">: </span><span class="s1">""</span><span class="s4">, </span><span class="s1">"lat"</span><span class="s4">: </span><span class="s13">48.246</span><span class="s4">, </span><span class="s1">"lng"</span><span class="s4">: -</span><span class="s13">79.018</span><span class="s4"> },</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s1">// ... The full, exhaustive list of 4728 entries is included in the actual running code.</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                    </span>{ </span><span class="s1">"name"</span><span class="s4">: </span><span class="s1">"Valérie Barbe (France 3)"</span><span class="s4">, </span><span class="s1">"country"</span><span class="s4">: </span><span class="s1">"France"</span><span class="s4">, </span><span class="s1">"location"</span><span class="s4">: </span><span class="s1">"5 avenue Auguste-Renoir, Cagnes-sur-Mer, 06800, Alpes-Maritimes"</span><span class="s4">, </span><span class="s1">"dates"</span><span class="s4">: </span><span class="s1">""</span><span class="s4">, </span><span class="s1">"type"</span><span class="s4">: </span><span class="s1">"Journaliste"</span><span class="s4">, </span><span class="s1">"rating"</span><span class="s4">: </span><span class="s13">0</span><span class="s4">, </span><span class="s1">"status"</span><span class="s4">: </span><span class="s1">"À Contacter"</span><span class="s4">, </span><span class="s1">"contacts"</span><span class="s4">: [{ </span><span class="s1">"contactName"</span><span class="s4">: </span><span class="s1">"Valérie Barbe"</span><span class="s4">, </span><span class="s1">"contactEmail"</span><span class="s4">: </span><span class="s1">"valerie.barbe@francetv.fr"</span><span class="s4">, </span><span class="s1">"contactPhone"</span><span class="s4">: </span><span class="s1">"0492125630"</span><span class="s4"> }], </span><span class="s1">"website"</span><span class="s4">: </span><span class="s1">"www.france3.fr"</span><span class="s4">, </span><span class="s1">"facebook"</span><span class="s4">: </span><span class="s1">""</span><span class="s4">, </span><span class="s1">"genres"</span><span class="s4">: </span><span class="s1">"media; presse"</span><span class="s4">, </span><span class="s1">"capacity"</span><span class="s4">: </span><span class="s1">""</span><span class="s4">, </span><span class="s1">"notes"</span><span class="s4">: </span><span class="s1">"Média: France 3"</span><span class="s4">, </span><span class="s1">"lat"</span><span class="s4">: </span><span class="s13">43.663</span><span class="s4">, </span><span class="s1">"lng"</span><span class="s4">: </span><span class="s13">7.148</span><span class="s4"> }</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>];</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p6"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// --- GEMINI API FUNCTIONS ---</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">async</span><span class="s1"> </span><span class="s11">function</span><span class="s1"> callGemini(prompt, button) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">const</span><span class="s1"> originalHtml = button.innerHTML;</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                </span>button.innerHTML = </span><span class="s1">`&lt;i class="fas fa-spinner fa-spin"&gt;&lt;/i&gt; Génération...`</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>button.disabled = </span><span class="s11">true</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                 </span></span><span class="s11">try</span><span class="s1"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">let</span><span class="s1"> chatHistory = [{ role: </span><span class="s8">"user"</span><span class="s1">, parts: [{ text: prompt }] }];</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> payload = { contents: chatHistory };</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> apiKey = </span><span class="s8">""</span><span class="s1">;</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s4"> apiUrl = </span><span class="s1">`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.0-flash:generateContent?key=</span><span class="s4">${apiKey}</span><span class="s1">`</span><span class="s4">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> response = </span><span class="s11">await</span><span class="s1"> fetch(apiUrl, { method: </span><span class="s8">'POST'</span><span class="s1">, headers: { </span><span class="s8">'Content-Type'</span><span class="s1">: </span><span class="s8">'application/json'</span><span class="s1"> }, body: </span><span class="s12">JSON</span><span class="s1">.stringify(payload) });</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">if</span><span class="s1"> (!response.ok) </span><span class="s11">throw</span><span class="s1"> </span><span class="s11">new</span><span class="s1"> </span><span class="s12">Error</span><span class="s1">(</span><span class="s8">`Erreur API: </span><span class="s1">${response.statusText}</span><span class="s8">`</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> result = </span><span class="s11">await</span><span class="s1"> response.json();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">if</span><span class="s1"> (result.candidates?.[</span><span class="s13">0</span><span class="s1">]?.content.parts[</span><span class="s13">0</span><span class="s1">]) </span><span class="s11">return</span><span class="s1"> result.candidates[</span><span class="s13">0</span><span class="s1">].content.parts[</span><span class="s13">0</span><span class="s1">].text;</span></p>
<p class="p8"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s11">else</span><span class="s4"> </span><span class="s11">throw</span><span class="s4"> </span><span class="s11">new</span><span class="s4"> </span><span class="s12">Error</span><span class="s4">(</span><span class="s1">"Réponse de l'API mal formée ou vide."</span><span class="s4">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>} </span><span class="s11">catch</span><span class="s1"> (error) {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>console.error(</span><span class="s8">"Erreur Gemini:"</span><span class="s1">, error);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>showAlert(</span><span class="s8">`Erreur avec l'API Gemini : </span><span class="s1">${error.message}</span><span class="s8">`</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">return</span><span class="s1"> </span><span class="s11">null</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>} </span><span class="s11">finally</span><span class="s1"> {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>button.innerHTML = originalHtml;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span>button.disabled = </span><span class="s11">false</span><span class="s1">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> showGeminiResult = (title, content) =&gt; {</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">DOM</span><span class="s1">.geminiDialog.title.textContent = title;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">DOM</span><span class="s1">.geminiDialog.content.textContent = content;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">DOM</span><span class="s1">.geminiDialog.modal.classList.remove(</span><span class="s8">'hidden'</span><span class="s1">, </span><span class="s8">'opacity-0'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s12">DOM</span><span class="s1">.geminiDialog.modal.firstElementChild.classList.remove(</span><span class="s8">'scale-95'</span><span class="s1">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>};</span></p>
<p class="p6"><span class="s7"></span><br></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// --- EVENT LISTENERS ---</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span>document.getElementById(</span><span class="s8">'closeModal'</span><span class="s1">).addEventListener(</span><span class="s8">'click'</span><span class="s1">, () =&gt; closeModal(</span><span class="s8">'venueModal'</span><span class="s1">));</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">DOM</span><span class="s1">.geminiDialog.closeBtn.addEventListener(</span><span class="s8">'click'</span><span class="s1">, () =&gt; closeModal(</span><span class="s8">'geminiResultModal'</span><span class="s1">));</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">DOM</span><span class="s1">.addVenueBtn.addEventListener(</span><span class="s8">'click'</span><span class="s1">, () =&gt; openModal({ rating: </span><span class="s13">0</span><span class="s1">, status: </span><span class="s8">'À Contacter'</span><span class="s1">, contacts: [], media: [] }));</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">DOM</span><span class="s1">.searchInput.addEventListener(</span><span class="s8">'input'</span><span class="s1">, filterAndRender);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s12">DOM</span><span class="s1">.directorySearchInput.addEventListener(</span><span class="s8">'input'</span><span class="s1">, () =&gt; renderDirectory(venuesData));</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">// ... (All other event listeners attached here)</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span>});</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s3">&lt;/</span><span class="s1">body</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s3">&lt;/</span><span class="s1">html</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s7"></span><br></p>
</body>
</html>
